<section ng-controller="WidgetController" class="widget-configurator no-select">
	<tabset>
		<tab heading="Select your widget">
			<accordion close-others="true">
				<accordion-group ng-repeat="category in unsorted(categories)"
					is-open="isopen">
					<accordion-heading>
						{{ category }}
            			<i class="pull-right glyphicon" 
            				ng-class="{'glyphicon-chevron-down': isopen, 
            						'glyphicon-chevron-right': !isopen}"></i>
        			</accordion-heading>
					<div ng-repeat="template in categories[category]">
						<input type="radio" ng-model="widget.template"
							id="{{category}}{{template}}{{ $index }}"
							name="WIDGET_TEMPLATE"
							ng-value="template" />
						<label for="{{category}}{{template}}{{ $index }}" 
							class="capitalize">
							{{ template }}
						</label>
					</div>
				</accordion-group>
			</accordion>
		</tab>
		<tab heading="Configure your widget" disabled="!widget.template">
			<ng-include src="'partials/WidgetEditorSettings.html'">
			</ng-include>
		</tab>
		<tab heading="Set your list values" ng-show="widget.properties.hasOwnProperty('options')">
			<ui-list-editor list="widget.properties.options" 
				can-edit-properties="true"></ui-list-editor>
		</tab>
		<tab heading="Configure your widget flags" disabled="!widget.template">
			<ng-include src="'partials/WidgetEditorFlags.html'">
			</ng-include>
		</tab>
		<tab heading="Advanced Widget Settings" disabled="!widget.template">
			<ng-include src="'partials/WidgetEditorAdvanced.html'">
			</ng-include>
		</tab>
		<tab heading="Preview">
			<form class="form-horizontal preview">
				<ui-widget widget="widget" 
				  widget-model="widget.properties.defaultValue">
			    </ui-widget>
			</form>
		</tab>
		<tab heading="Debug">
			<pre>{{ widget | json }}</pre>
		</tab>
	</tabset>
</section>